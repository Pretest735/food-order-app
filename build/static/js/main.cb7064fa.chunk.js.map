{"version":3,"sources":["Components/Cart/Cart.module.css","Components/Cart/CartItem.module.css","Components/Layout/HeaderCartButton.module.css","Components/UI/Modal.module.css","Components/Meals/MealItem/MealItem.module.css","Components/Layout/Header.module.css","Components/Meals/MealsSummary.module.css","Components/Meals/AvailableMeals.module.css","Components/Meals/MealItem/MealItemForm.module.css","Components/UI/Input.module.css","Components/UI/Card.module.css","store/cart-context.js","Components/UI/Modal.js","Components/Cart/CartItem.js","Components/Cart/Cart.js","assets/meals.jpg","Components/Cart/CartIcon.js","Components/Layout/HeaderCartButton.js","Components/Layout/Header.js","Components/Meals/MealsSummary.js","Components/UI/Input.js","Components/Meals/MealItem/MealItemForm.js","Components/Meals/MealItem/MealItem.js","Components/UI/Card.js","Components/Meals/AvailableMeals.js","Components/Meals/Meals.js","store/cart-provider.js","App.js","index.js"],"names":["module","exports","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","Backdrop","props","className","classes","backdrop","onClick","closeCart","ModalOverlay","modal","content","children","Modal","portalElement","document","getElementById","ReactDOM","createPortal","CartItem","price","toFixed","name","summary","amount","actions","onRemove","onAdd","Cart","cartContext","useContext","addItemToCartFunc","removeItemFromCartFunc","console","log","cartItems","map","bind","total","button","disabled","length","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","useState","isButtonHighlighted","setIsButtonHighlighted","totalItems","reduce","tot","btnClasses","bump","useEffect","timer","setTimeout","clearTimeout","showCart","icon","badge","Header","header","src","foodImage","alt","MealsSummary","Input","forwardRef","ref","input","htmlFor","label","MealItemForm","amountInputRef","useRef","form","onSubmit","event","preventDefault","enteredAmount","current","value","onAddToCart","type","min","max","step","defaultValue","MealItem","meal","description","Card","card","DUMMY_MEALS","AvailableMeals","mealsList","meals","Meals","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updateItem","concat","cartIndex","splice","updatedAmount","CartProvider","useReducer","cartState","dispatchCartAction","Provider","App","isCartShown","setIsCartShown","render"],"mappings":"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","file":"static/js/main.cb7064fa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__vzHa0\",\"total\":\"Cart_total__2eGro\",\"actions\":\"Cart_actions__1WjU2\",\"button--alt\":\"Cart_button--alt__2HE6d\",\"button\":\"Cart_button__UFFpv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__3MY83\",\"summary\":\"CartItem_summary__xPm89\",\"price\":\"CartItem_price__29Nnm\",\"amount\":\"CartItem_amount__30Txm\",\"actions\":\"CartItem_actions__2E3m3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__eQtbq\",\"icon\":\"HeaderCartButton_icon__lWm7V\",\"badge\":\"HeaderCartButton_badge__2hlQF\",\"bump\":\"HeaderCartButton_bump__32TLn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2znzX\",\"modal\":\"Modal_modal__2QgxK\",\"slide-down\":\"Modal_slide-down__Y0TjC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__IMlXn\",\"description\":\"MealItem_description__3Ff9C\",\"price\":\"MealItem_price__2ct5w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1cM8q\",\"main-image\":\"Header_main-image__1RoZ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__1BTNU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__1PggW\",\"meals-appear\":\"AvailableMeals_meals-appear__1hJEd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__2GhM6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__3Lg_X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2N-0v\"};","import React from \"react\";\n\nconst CartContext = React.createContext({\n    items: [],\n    totalAmount: 0,\n    addItem: (item) => {},\n    removeItem: (id) => {}\n});\n\nexport default CartContext;","import { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport classes from './Modal.module.css';\n\nconst Backdrop = (props) => {\n    return (\n        <div className={classes.backdrop} onClick={props.closeCart}/>\n    );\n}\n\nconst ModalOverlay = (props) => {\n    return (\n      <div className={classes.modal}>\n          <div className={classes.content}>{props.children}</div>\n      </div>  \n    );\n}\n\nconst Modal = (props) => {\n    const portalElement = document.getElementById(\"overlays\");\n    return (\n        <Fragment>\n            {ReactDOM.createPortal(<Backdrop closeCart={props.closeCart}/>, portalElement)}\n            {ReactDOM.createPortal(<ModalOverlay>{props.children}</ModalOverlay>, portalElement)}\n        </Fragment>\n    );\n}\n\nexport default Modal;","import classes from './CartItem.module.css';\n\nconst CartItem = (props) => {\n  const price = `$${props.price.toFixed(2)}`;\n\n  return (\n    <li className={classes['cart-item']}>\n      <div>\n        <h2>{props.name}</h2>\n        <div className={classes.summary}>\n          <span className={classes.price}>{price}</span>\n          <span className={classes.amount}>x {props.amount}</span>\n        </div>\n      </div>\n      <div className={classes.actions}>\n        <button onClick={props.onRemove}>−</button>\n        <button onClick={props.onAdd}>+</button>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import { useContext } from 'react';\nimport CartContext from '../../store/cart-context';\nimport Modal from '../UI/Modal';\nimport classes from './Cart.module.css';\nimport CartItem from './CartItem';\n\nconst Cart = (props) => {\n    const cartContext = useContext(CartContext);\n    const addItemToCartFunc = (item) => {\n        cartContext.addItem({...item, amount:1});\n    }\n\n    const removeItemFromCartFunc = (id) => {\n        console.log(\"removal id: \",id);\n        cartContext.removeItem(id);\n    }\n\n    const cartItems=(\n    <ul className={classes['cart-items']}>{\n        cartContext.items.map((item) =>\n            (<CartItem\n                key={item.id} \n                name={item.name}\n                amount={item.amount}\n                price={item.price}\n                onAdd={addItemToCartFunc.bind(null,item)}\n                onRemove={removeItemFromCartFunc.bind(null, item.id)}\n            />\n        ))}\n    </ul>);\n    \n    return (\n        <Modal closeCart={props.closeCart}>\n            {cartItems}\n            <div className={classes.total}>Total</div>\n            <div>{cartContext.totalAmount.toFixed(2)}$</div>\n            <div className={classes.actions}>\n                <button className={classes['button--alt']} onClick={props.closeCart}>Close</button>\n                <button className={classes.button} disabled={!cartContext.items.length}>Order</button>\n            </div>\n        </Modal>\n    );\n}\n\nexport default Cart;","export default __webpack_public_path__ + \"static/media/meals.2971f633.jpg\";","const CartIcon = () => {\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      viewBox='0 0 20 20'\n      fill='currentColor'\n    >\n      <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\n    </svg>\n  );\n};\n\nexport default CartIcon;\n","import { useContext, useEffect, useState } from 'react';\nimport CartContext from '../../store/cart-context';\nimport CartIcon from '../Cart/CartIcon';\nimport classes from './HeaderCartButton.module.css';\n\nconst HeaderCartButton = (props) => {\n    const cartContext = useContext(CartContext);\n    const [isButtonHighlighted, setIsButtonHighlighted] = useState(false);\n\n    const {items} = cartContext;\n\n    const totalItems = items.reduce((tot, item) =>{\n        return tot = tot + item.amount\n    }, 0);\n    \n    const btnClasses = `${classes.button} ${isButtonHighlighted ? classes.bump: ''}`;\n\n    useEffect(() => {\n        if(items.length === 0) return;\n        \n        setIsButtonHighlighted(true);\n\n        const timer = setTimeout(() => {\n            setIsButtonHighlighted(false);\n        }, 300)\n\n        return () => {\n            clearTimeout(timer);\n        }\n    }, [items]);\n\n    return (\n        <button className={btnClasses} onClick={props.showCart} >\n            <span className={classes.icon}>\n                <CartIcon />\n            </span>\n            <span>Your Cart</span>\n            <span className={classes.badge}>{totalItems}</span>\n        </button>\n    );\n}\n\nexport default HeaderCartButton;","import {Fragment} from 'react';\nimport classes from './Header.module.css';\nimport foodImage from '../../assets/meals.jpg'\nimport HeaderCartButton from './HeaderCartButton';\n\nconst Header = (props) => {\n    return (\n        <Fragment>\n            <header className={classes.header}>\n                <h1>React meals</h1>\n                <HeaderCartButton showCart={props.showCart}/>\n            </header>\n            <div className={classes['main-image']}>\n                <img src={foodImage} alt=\"Foods\" />\n            </div>\n        </Fragment>\n    )\n};\n\nexport default Header;","import classes from './MealsSummary.module.css';\n\nconst MealsSummary = () => {\n  return (\n    <section className={classes.summary}>\n      <h2>Delicious Food, Delivered To You</h2>\n      <p>\n        Choose your favorite meal from our broad selection of available meals\n        and enjoy a delicious lunch or dinner at home.\n      </p>\n      <p>\n        All our meals are cooked with high-quality ingredients, just-in-time and\n        of course by experienced chefs!\n      </p>\n    </section>\n  );\n};\n\nexport default MealsSummary;\n","import React from 'react';\nimport classes from './Input.module.css';\n\nconst Input = React.forwardRef((props, ref) => {\n    return (\n        <div className={classes.input}>\n            <label htmlFor={props.input.id}>{props.label}</label>\n            <input ref={ref} {...props.input}/>\n        </div>\n    )\n});\n\nexport default Input;","import classes from './MealItemForm.module.css';\nimport Input from '../../UI/Input';\nimport { useRef } from 'react';\n\nconst MealItemForm = (props) => {\n    const amountInputRef = useRef();\n\n    const addMealItem = (event) => {\n        event.preventDefault();\n        const enteredAmount = +amountInputRef.current.value;\n\n        props.onAddToCart(enteredAmount);\n    }\n\n    return (\n        <form className={classes.form} onSubmit={addMealItem}>\n            <Input\n                ref={amountInputRef}\n                label='Amount'\n                input={{\n                    id: 'amount' + props.id,\n                    type: 'number',\n                    min: '1',\n                    max: '5',\n                    step: '1',\n                    defaultValue: '1'\n                }}\n            />\n            <button>+ Add</button>\n        </form>\n    )\n}\n\nexport default MealItemForm;","import { useContext } from 'react';\nimport CartContext from '../../../store/cart-context';\nimport classes from './MealItem.module.css';\nimport MealItemForm from './MealItemForm';\n\nconst MealItem = (props) => {\n    const cartContext = useContext(CartContext);\n\n    const addItemToCart = (amount) => {\n        cartContext.addItem({\n            id: props.id,\n            name: props.name,\n            amount: amount,\n            description: props.description,\n            price: props.price\n        });\n    }\n\n    return (\n        <li className={classes.meal}>\n            <div>\n                <h3>{props.name}</h3>\n                <div className={classes.description} >{props.description}</div>\n                <div className={classes.price}>{props.price}</div>\n            </div>\n            <MealItemForm \n                id={props.id}\n                onAddToCart={addItemToCart}\n            />\n        </li>\n    );\n}\n\nexport default MealItem;","import classes from './Card.module.css';\n\nconst Card = (props) => {\n    return (\n        <div className={classes.card}>{props.children}</div>\n    )\n}\n\nexport default Card;","import classes from './AvailableMeals.module.css';\nimport MealItem from './MealItem/MealItem';\nimport Card from '../UI/Card';\n\nconst DUMMY_MEALS = [\n    {\n      id: 'm1',\n      name: 'Sushi',\n      description: 'Finest fish and veggies',\n      price: 22.99,\n    },\n    {\n      id: 'm2',\n      name: 'Schnitzel',\n      description: 'A german specialty!',\n      price: 16.5,\n    },\n    {\n      id: 'm3',\n      name: 'Barbecue Burger',\n      description: 'American, raw, meaty',\n      price: 12.99,\n    },\n    {\n      id: 'm4',\n      name: 'Green Bowl',\n      description: 'Healthy...and green...',\n      price: 18.99,\n    },\n  ];\n\nconst AvailableMeals = () => {\n    console.log(\"available meals\");\n    const mealsList = DUMMY_MEALS.map((item) => \n    <MealItem \n      id={item.id}\n      key={item.id}\n      name={item.name}\n      description={item.description}\n      price={item.price}\n    />);\n\n    return (\n        <section className={classes.meals}>\n            <Card>\n              <ul>{mealsList}</ul>\n            </Card>\n        </section>\n    );\n}\n\nexport default AvailableMeals;","import { Fragment } from \"react\";\nimport MealsSummary from \"./MealsSummary\";\nimport AvailableMeals from \"./AvailableMeals\";\n\nconst Meals = () => {\n    return (\n        <Fragment>\n            <MealsSummary />\n            <AvailableMeals />\n        </Fragment>\n    );\n}\n\nexport default Meals;","import { useReducer } from \"react\";\nimport CartContext from \"./cart-context\";\n\nconst defaultCartState = {\n    items: [],\n    totalAmount: 0\n}\n\nconst cartReducer = (state, action) => {\n    if(action.type === 'ADD'){\n        const updatedTotalAmount = state.totalAmount + (action.item.amount * action.item.price);\n        const existingCartItemIndex = state.items.findIndex((item) => item.id === action.item.id);\n        const existingCartItem = state.items[existingCartItemIndex];\n        \n        let updatedItems;\n        if(existingCartItem) {\n            const updateItem = {\n                ...existingCartItem,\n                amount: existingCartItem.amount + action.item.amount\n            }\n            updatedItems = [...state.items];\n            updatedItems[existingCartItemIndex] = updateItem;\n        } else {\n            updatedItems = state.items.concat(action.item);\n        }\n\n        console.log(\"updateditems\", updatedItems);\n        return {\n            items: updatedItems,\n            totalAmount: updatedTotalAmount\n        };\n    }\n\n    if(action.type === 'REMOVE') {\n\n        let updatedItems = [...state.items];\n        console.log(\"updated items: \", updatedItems);\n\n        let cartIndex = updatedItems.findIndex((item) => item.id === action.id);\n        --updatedItems[cartIndex].amount;\n        console.log(\"cart index: \", cartIndex);\n        console.log(\"cart item amount: \", updatedItems[cartIndex]);\n\n        if(updatedItems[cartIndex].amount === 0){\n            updatedItems.splice(cartIndex,1);\n        }\n\n        console.log(\"updated items: \", updatedItems);\n        const updatedAmount = updatedItems.reduce((tot, item) => {\n            return tot = tot + (item.amount*item.price);\n        }, 0);\n        console.log(\"updated amount after removal: \",updatedAmount);\n        \n        return {\n            items: updatedItems,\n            totalAmount: updatedAmount\n        };\n    }\n\n    return defaultCartState;\n};\n\nconst CartProvider = (props) => {\n\n    const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState);\n\n    const addNewItemFunc = (item) => {\n        dispatchCartAction({\n            type: 'ADD',\n            item: item\n        })\n    };\n\n    const removeItemFunc = (id) => {\n        dispatchCartAction({\n            type: 'REMOVE',\n            id: id\n        })\n    };\n\n    const cartContext = {\n        items: cartState.items,\n        totalAmount: cartState.totalAmount,\n        addItem: addNewItemFunc,\n        removeItem: removeItemFunc\n    }\n\n    return (\n        <CartContext.Provider value={cartContext}>\n            {props.children}\n        </CartContext.Provider>\n    );\n}\n\nexport default CartProvider;","import { useState } from 'react';\nimport Cart from './Components/Cart/Cart';\nimport Header from './Components/Layout/Header';\nimport Meals from './Components/Meals/Meals';\nimport CartProvider from './store/cart-provider';\n\nfunction App() {\n  const [isCartShown,setIsCartShown] = useState(false);\n\n  const showCartFunc = () => {\n    setIsCartShown(true);\n  }\n\n  const closeCartFunc = () => {\n    setIsCartShown(false);\n  }\n\n  return (\n    <CartProvider>\n      {isCartShown && <Cart closeCart={closeCartFunc}/>}\n      <Header showCart={showCartFunc}/>\n      <main>\n        <Meals />\n      </main>\n    </CartProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}